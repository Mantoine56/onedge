"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[708],{927:function(e,t,a){a.d(t,{I:function(){return i},db:function(){return d}});var s=a(15236),n=a(69842),r=a(5186);let o=(0,s.ZF)({apiKey:"AIzaSyAniDwonahEQCKQWDFgPGdD0gpBxgM4iBw",authDomain:"cashme613.firebaseapp.com",projectId:"cashme613",storageBucket:"cashme613.appspot.com",messagingSenderId:"677632994312",appId:"1:677632994312:web:fc6a88d82ddcf77d7b75bd"}),d=(0,n.ad)(o),i=(0,r.v0)(o)},44222:function(e,t,a){a.d(t,{I:function(){return d}});var s=a(15236),n=a(5186),r=a(69842);let o=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyAniDwonahEQCKQWDFgPGdD0gpBxgM4iBw",authDomain:"cashme613.firebaseapp.com",projectId:"cashme613",storageBucket:"cashme613.appspot.com",messagingSenderId:"677632994312",appId:"1:677632994312:web:fc6a88d82ddcf77d7b75bd"});(0,r.ad)(o);let d=(0,n.v0)(o)},47065:function(e,t,a){a.d(t,{a:function(){return o}});var s=a(2265),n=a(44222),r=a(5186);function o(){let[e,t]=(0,s.useState)(null),[a,o]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=(0,r.Aj)(n.I,e=>{t(e),o(!1)});return()=>e()},[]),{user:e,loading:a,logout:async()=>{try{await (0,r.w7)(n.I)}catch(e){console.error("Logout error:",e)}}}}},51892:function(e,t,a){a.d(t,{h:function(){return R}});var s=a(57437),n=a(87138),r=a(16463),o=a(47065),d=a(50495),i=a(90837),l=a(46910),c=a(2265),u=a(13304),f=a(12218),m=a(74697),h=a(37440);let p=u.fC,x=u.xz;u.x8;let g=u.h_,b=c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(u.aV,{className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});b.displayName=u.aV.displayName;let y=(0,f.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),N=c.forwardRef((e,t)=>{let{side:a="right",className:n,children:r,...o}=e;return(0,s.jsxs)(g,{children:[(0,s.jsx)(b,{}),(0,s.jsxs)(u.VY,{ref:t,className:(0,h.cn)(y({side:a}),n),...o,children:[r,(0,s.jsxs)(u.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});N.displayName=u.VY.displayName,c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(u.Dx,{ref:t,className:(0,h.cn)("text-lg font-semibold text-foreground",a),...n})}).displayName=u.Dx.displayName,c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(u.dk,{ref:t,className:(0,h.cn)("text-sm text-muted-foreground",a),...n})}).displayName=u.dk.displayName;var j=a(51077),w=a(96273),v=a(54174),k=a(52022),z=a(89896),D=a(42873);function R(e){let{isAddTransactionOpen:t,setIsAddTransactionOpen:a}=e,c=(0,r.useRouter)(),{logout:u}=(0,o.a)(),f=(0,r.usePathname)(),m=async()=>{await u(),c.push("/login")};return(0,s.jsxs)("header",{className:"flex items-center h-16 px-4 border-b shrink-0 md:px-6",children:[(0,s.jsx)("div",{className:"flex items-center flex-1",children:(0,s.jsxs)(n.default,{href:"/dashboard",className:"flex items-center",children:[(0,s.jsx)(j.Z,{className:"h-6 w-6 mr-2"}),(0,s.jsx)("span",{className:"text-lg font-bold",children:"CashMe"})]})}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center space-x-4 md:space-x-6",children:[(0,s.jsx)(n.default,{href:"/dashboard",className:"px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ".concat("/dashboard"===f?"bg-gray-800 text-white":"text-gray-700 hover:bg-gray-800 hover:text-white"),children:"Dashboard"}),(0,s.jsx)(n.default,{href:"/transactions",className:"px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ".concat("/transactions"===f?"bg-gray-800 text-white":"text-gray-700 hover:bg-gray-800 hover:text-white"),children:"Transactions"}),(0,s.jsx)(n.default,{href:"/analytics",className:"px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ".concat("/analytics"===f?"bg-gray-800 text-white":"text-gray-700 hover:bg-gray-800 hover:text-white"),children:"Analytics"}),(0,s.jsx)(i.Vq,{open:t,onOpenChange:a,children:(0,s.jsx)(i.hg,{asChild:!0,children:(0,s.jsxs)(d.z,{variant:"default",className:"bg-black text-white hover:bg-gray-800",children:[(0,s.jsx)(w.Z,{className:"mr-2 h-4 w-4"})," Add Transaction"]})})})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)(l.h_,{children:[(0,s.jsx)(l.$F,{asChild:!0,children:(0,s.jsxs)(d.z,{size:"icon",variant:"ghost",children:[(0,s.jsx)(v.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"User menu"})]})}),(0,s.jsxs)(l.AW,{align:"end",children:[(0,s.jsx)(l.Ju,{children:"My Account"}),(0,s.jsx)(l.VD,{}),(0,s.jsxs)(l.Xi,{onClick:()=>c.push("/profile"),children:[(0,s.jsx)(k.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"User Profile"})]}),(0,s.jsxs)(l.Xi,{onClick:m,children:[(0,s.jsx)(z.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Logout"})]})]})]}),(0,s.jsxs)(p,{children:[(0,s.jsx)(x,{asChild:!0,children:(0,s.jsxs)(d.z,{size:"icon",variant:"ghost",className:"md:hidden ml-2",children:[(0,s.jsx)(D.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,s.jsx)(N,{side:"right",className:"w-[240px] sm:w-[300px]",children:(0,s.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,s.jsx)(n.default,{href:"/dashboard",className:"text-gray-700 hover:bg-gray-800 hover:text-white transition-colors duration-200 ".concat("/dashboard"===f?"font-semibold":""),children:"Dashboard"}),(0,s.jsx)(n.default,{href:"/transactions",className:"text-gray-700 hover:bg-gray-800 hover:text-white transition-colors duration-200 ".concat("/transactions"===f?"font-semibold":""),children:"Transactions"}),(0,s.jsx)(n.default,{href:"/analytics",className:"text-gray-700 hover:bg-gray-800 hover:text-white transition-colors duration-200 ".concat("/analytics"===f?"font-semibold":""),children:"Analytics"}),(0,s.jsx)(i.Vq,{open:t,onOpenChange:a,children:(0,s.jsx)(i.hg,{asChild:!0,children:(0,s.jsxs)(d.z,{variant:"default",className:"bg-black text-white hover:bg-gray-800",children:[(0,s.jsx)(w.Z,{className:"mr-2 h-4 w-4"})," Add Transaction"]})})})]})})]})]})]})}},50495:function(e,t,a){a.d(t,{d:function(){return i},z:function(){return l}});var s=a(57437),n=a(2265),r=a(71538),o=a(12218),d=a(37440);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:a,variant:n,size:o,asChild:l=!1,...c}=e,u=l?r.g7:"button";return(0,s.jsx)(u,{className:(0,d.cn)(i({variant:n,size:o,className:a})),ref:t,...c})});l.displayName="Button"},90837:function(e,t,a){a.d(t,{$N:function(){return p},Be:function(){return x},Vq:function(){return i},cN:function(){return h},cZ:function(){return f},fK:function(){return m},hg:function(){return l}});var s=a(57437),n=a(2265),r=a(13304),o=a(74697),d=a(37440);let i=r.fC,l=r.xz,c=r.h_;r.x8;let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});u.displayName=r.aV.displayName;let f=n.forwardRef((e,t)=>{let{className:a,children:n,...i}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(r.VY,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[n,(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=r.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="DialogFooter";let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});p.displayName=r.Dx.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...n})});x.displayName=r.dk.displayName},46910:function(e,t,a){a.d(t,{$F:function(){return u},AW:function(){return f},Ju:function(){return p},VD:function(){return x},Xi:function(){return m},bO:function(){return h},h_:function(){return c}});var s=a(57437),n=a(2265),r=a(13569),o=a(87592),d=a(22468),i=a(28165),l=a(37440);let c=r.fC,u=r.xz;r.ZA,r.Uv,r.Tr,r.Ee,n.forwardRef((e,t)=>{let{className:a,inset:n,children:d,...i}=e;return(0,s.jsxs)(r.fF,{ref:t,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",a),...i,children:[d,(0,s.jsx)(o.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=r.fF.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.tu,{ref:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})}).displayName=r.tu.displayName;let f=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...o}=e;return(0,s.jsx)(r.Uv,{children:(0,s.jsx)(r.VY,{ref:t,sideOffset:n,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});f.displayName=r.VY.displayName;let m=n.forwardRef((e,t)=>{let{className:a,inset:n,...o}=e;return(0,s.jsx)(r.ck,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",a),...o})});m.displayName=r.ck.displayName;let h=n.forwardRef((e,t)=>{let{className:a,children:n,checked:o,...i}=e;return(0,s.jsxs)(r.oC,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:o,...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(d.Z,{className:"h-4 w-4"})})}),n]})});h.displayName=r.oC.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,...o}=e;return(0,s.jsxs)(r.Rk,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(i.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=r.Rk.displayName;let p=n.forwardRef((e,t)=>{let{className:a,inset:n,...o}=e;return(0,s.jsx)(r.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...o})});p.displayName=r.__.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",a),...n})});x.displayName=r.Z0.displayName},83102:function(e,t,a){a.d(t,{I:function(){return o}});var s=a(57437),n=a(2265),r=a(37440);let o=n.forwardRef((e,t)=>{let{className:a,type:n,...o}=e;return(0,s.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...o})});o.displayName="Input"},67135:function(e,t,a){a.d(t,{_:function(){return l}});var s=a(57437),n=a(2265),r=a(38364),o=a(12218),d=a(37440);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.f,{ref:t,className:(0,d.cn)(i(),a),...n})});l.displayName=r.f.displayName},37225:function(e,t,a){a.d(t,{n:function(){return d}});var s=a(2265),n=a(69842),r=a(927),o=a(47065);function d(){let[e,t]=(0,s.useState)([]),[a,d]=(0,s.useState)({totalThisYear:0,totalLastYear:0,totalThisMonth:0,totalLastMonth:0,totalToday:0,totalYesterday:0,averageTransaction:0,averageTransactionLastWeek:0}),{user:i}=(0,o.a)();(0,s.useEffect)(()=>{if(!i)return;let e=(0,n.IO)((0,n.hJ)(r.db,"transactions"),(0,n.ar)("userId","==",i.uid)),a=(0,n.cf)(e,e=>{let a=[];e.forEach(e=>{let t=e.data();a.push({id:e.id,amount:t.amount,customerName:t.customerName,notes:t.notes,date:t.date.toDate()})}),t(a),l(a)});return()=>a()},[i]);let l=e=>{let t=new Date,a=t.getFullYear(),s=t.getMonth(),n=t.getDate(),r=e.filter(e=>e.date.getFullYear()===a),o=e.filter(e=>e.date.getFullYear()===a-1),i=r.filter(e=>e.date.getMonth()===s),l=r.filter(e=>e.date.getMonth()===s-1),c=i.filter(e=>e.date.getDate()===n),u=i.filter(e=>e.date.getDate()===n-1),f=new Date(t.getTime()-6048e5),m=e.filter(e=>e.date>=f&&e.date<t),h=r.reduce((e,t)=>e+t.amount,0),p=o.reduce((e,t)=>e+t.amount,0),x=i.reduce((e,t)=>e+t.amount,0),g=l.reduce((e,t)=>e+t.amount,0),b=c.reduce((e,t)=>e+t.amount,0),y=u.reduce((e,t)=>e+t.amount,0),N=h/r.length||0;d({totalThisYear:h,totalLastYear:p,totalThisMonth:x,totalLastMonth:g,totalToday:b,totalYesterday:y,averageTransaction:N,averageTransactionLastWeek:m.reduce((e,t)=>e+t.amount,0)/m.length||0})};return{transactions:e,addTransaction:async e=>{if(!i)throw Error("User not authenticated");await (0,n.ET)((0,n.hJ)(r.db,"transactions"),{...e,userId:i.uid,date:n.EK.now()})},deleteTransaction:async e=>{if(!i)throw Error("User not authenticated");await (0,n.oe)((0,n.JU)(r.db,"transactions",e))},deleteAllTransactions:async()=>{if(!i)throw Error("User not authenticated");let e=(0,n.IO)((0,n.hJ)(r.db,"transactions"),(0,n.ar)("userId","==",i.uid)),t=await (0,n.PL)(e),a=(0,n.qs)(r.db);t.forEach(e=>{a.delete(e.ref)}),await a.commit()},metrics:a}}},37440:function(e,t,a){a.d(t,{cn:function(){return r}});var s=a(44839),n=a(96164);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}}]);