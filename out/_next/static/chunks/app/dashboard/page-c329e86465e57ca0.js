(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{76877:function(e,t,a){Promise.resolve().then(a.bind(a,84591))},84591:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=a(57437),s=a(2265),n=a(37225),l=a(51892),o=a(40169),d=a(50495),i=a(36013),c=a(26975),m=a(90837),u=a(83102),f=a(67135),x=a(93146),h=a(51077),j=a(96273),N=a(87138);function p(){let{transactions:e,addTransaction:t,metrics:a}=(0,n.n)(),[p,g]=(0,s.useState)(!1),b=(e,t)=>0===t?e>0?100:0:(e-t)/t*100,w=(e,t)=>{if(0===t&&0===e)return"No data";let a=b(e,t);return"".concat(a>0?"+":"").concat(a.toFixed(1),"%")},y=async e=>{e.preventDefault();let a=new FormData(e.currentTarget),r=a.get("amount"),s=a.get("notes"),n=a.get("customerName");try{await t({amount:parseFloat(r),customerName:n,notes:s}),g(!1)}catch(e){console.error("Error adding transaction:",e)}};return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-dot-pattern",children:[(0,r.jsx)(l.h,{isAddTransactionOpen:p,setIsAddTransactionOpen:g}),(0,r.jsxs)("main",{className:"flex-1 p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(i.Zb,{className:"transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1",children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Cash This Year"}),(0,r.jsx)(h.Z,{className:"w-4 h-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["$",a.totalThisYear.toFixed(2)]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:0===a.totalLastYear?"No data for last year":"".concat(w(a.totalThisYear,a.totalLastYear)," from last year")})]})]}),(0,r.jsxs)(i.Zb,{className:"transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1",children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Cash This Month"}),(0,r.jsx)(h.Z,{className:"w-4 h-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["$",a.totalThisMonth.toFixed(2)]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:0===a.totalLastMonth?"No data for last month":"".concat(w(a.totalThisMonth,a.totalLastMonth)," from last month")})]})]}),(0,r.jsxs)(i.Zb,{className:"transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1",children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Cash Today"}),(0,r.jsx)(h.Z,{className:"w-4 h-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["$",a.totalToday.toFixed(2)]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:0===a.totalYesterday?"No data for yesterday":"".concat(w(a.totalToday,a.totalYesterday)," from yesterday")})]})]}),(0,r.jsxs)(i.Zb,{className:"transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1",children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Average Transaction"}),(0,r.jsx)(h.Z,{className:"w-4 h-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["$",a.averageTransaction.toFixed(2)]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:0===a.averageTransactionLastWeek?"No data for last week":"".concat(w(a.averageTransaction,a.averageTransactionLastWeek)," from last week")})]})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"Transactions"})}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Recent transactions from your CashMe account."}),(0,r.jsxs)(c.iA,{children:[(0,r.jsx)(c.xD,{children:(0,r.jsxs)(c.SC,{children:[(0,r.jsx)(c.ss,{children:"Customer"}),(0,r.jsx)(c.ss,{className:"text-right",children:"Amount"})]})}),(0,r.jsx)(c.RM,{children:e.map(e=>(0,r.jsxs)(c.SC,{children:[(0,r.jsx)(c.pj,{children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o.qE,{className:"h-8 w-8 mr-2",children:(0,r.jsx)(o.Q5,{children:e.customerName.split(" ").map(e=>e[0]).join("")})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.customerName}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.notes})]})]})}),(0,r.jsxs)(c.pj,{className:"text-right",children:["$",e.amount.toFixed(2)]})]},e.id))})]}),(0,r.jsx)(N.default,{href:"/transactions",children:(0,r.jsx)(d.z,{className:"w-full mt-4",variant:"outline",children:"View All"})})]})]})})]}),(0,r.jsxs)(m.Vq,{open:p,onOpenChange:g,children:[(0,r.jsx)(m.hg,{asChild:!0,children:(0,r.jsxs)(d.z,{variant:"default",className:"fixed bottom-4 right-4 bg-black text-white hover:bg-gray-800 rounded-full p-4 shadow-lg",children:[(0,r.jsx)(j.Z,{className:"h-6 w-6"}),(0,r.jsx)("span",{className:"sr-only",children:"Add Transaction"})]})}),(0,r.jsxs)(m.cZ,{children:[(0,r.jsxs)(m.fK,{children:[(0,r.jsx)(m.$N,{children:"Add New Transaction"}),(0,r.jsx)(m.Be,{children:"Enter the details of your new transaction here."})]}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{htmlFor:"amount",children:"Amount"}),(0,r.jsx)(u.I,{id:"amount",name:"amount",type:"number",step:"0.01",placeholder:"0.00",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{htmlFor:"customerName",children:"Customer Name"}),(0,r.jsx)(u.I,{id:"customerName",name:"customerName",type:"text",placeholder:"Enter customer name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{htmlFor:"notes",children:"Notes"}),(0,r.jsx)(x.g,{id:"notes",name:"notes",placeholder:"Enter any additional notes here..."})]}),(0,r.jsx)(d.z,{type:"submit",className:"w-full",children:"Add Transaction"})]})]})]})]})}},40169:function(e,t,a){"use strict";a.d(t,{qE:function(){return b},Q5:function(){return w}});var r=a(57437),s=a(2265),n=a(98324),l=a(75137),o=a(1336),d=a(25171),i="Avatar",[c,m]=(0,n.b)(i),[u,f]=c(i),x=s.forwardRef((e,t)=>{let{__scopeAvatar:a,...n}=e,[l,o]=s.useState("idle");return(0,r.jsx)(u,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:o,children:(0,r.jsx)(d.WV.span,{...n,ref:t})})});x.displayName=i;var h="AvatarImage",j=s.forwardRef((e,t)=>{let{__scopeAvatar:a,src:n,onLoadingStatusChange:i=()=>{},...c}=e,m=f(h,a),u=function(e){let[t,a]=s.useState("idle");return(0,o.b)(()=>{if(!e){a("error");return}let t=!0,r=new window.Image,s=e=>()=>{t&&a(e)};return a("loading"),r.onload=s("loaded"),r.onerror=s("error"),r.src=e,()=>{t=!1}},[e]),t}(n),x=(0,l.W)(e=>{i(e),m.onImageLoadingStatusChange(e)});return(0,o.b)(()=>{"idle"!==u&&x(u)},[u,x]),"loaded"===u?(0,r.jsx)(d.WV.img,{...c,ref:t,src:n}):null});j.displayName=h;var N="AvatarFallback",p=s.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:n,...l}=e,o=f(N,a),[i,c]=s.useState(void 0===n);return s.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(e)}},[n]),i&&"loaded"!==o.imageLoadingStatus?(0,r.jsx)(d.WV.span,{...l,ref:t}):null});p.displayName=N;var g=a(37440);let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(x,{ref:t,className:(0,g.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});b.displayName=x.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(j,{ref:t,className:(0,g.cn)("aspect-square h-full w-full",a),...s})}).displayName=j.displayName;let w=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p,{ref:t,className:(0,g.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});w.displayName=p.displayName},36013:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return i},Zb:function(){return l},aY:function(){return c},eW:function(){return m},ll:function(){return d}});var r=a(57437),s=a(2265),n=a(37440);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});i.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});m.displayName="CardFooter"},26975:function(e,t,a){"use strict";a.d(t,{RM:function(){return d},SC:function(){return i},iA:function(){return l},pj:function(){return m},ss:function(){return c},xD:function(){return o}});var r=a(57437),s=a(2265),n=a(37440);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});l.displayName="Table";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...s})});o.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});d.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});i.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});c.displayName="TableHead";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});m.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},93146:function(e,t,a){"use strict";a.d(t,{g:function(){return l}});var r=a(57437),s=a(2265),n=a(37440);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});l.displayName="Textarea"}},function(e){e.O(0,[358,533,609,71,352,708,971,23,744],function(){return e(e.s=76877)}),_N_E=e.O()}]);